<mat-card>
    <h2 class="special-title">TRAVELLER</h2>

    <form #fInfo="ngForm" (ngSubmit)="submitTravelerInfo(fInfo)">

        <mat-grid-list cols="2" rowHeight="88px" gutterSize="10px">
            <mat-grid-tile>
                <mat-form-field appearance="outline" class='form-field'>
                    <mat-label> First Name</mat-label>
                    <input matInput type="text" name="firstName" ngModel #firstName="ngModel" required>
                </mat-form-field>
            </mat-grid-tile>
            <mat-grid-tile>
                <mat-form-field appearance="outline" class='form-field'>
                    <mat-label> Last Name</mat-label>
                    <input matInput type="text" name="lastName" ngModel #lastName="ngModel" required>
                </mat-form-field>
            </mat-grid-tile>
            <mat-grid-tile>
                <mat-form-field appearance="outline" class='form-field'>
                    <mat-label>Gender</mat-label>
                    <mat-select name="gender" ngModel #gender="ngModel" required>
                        <mat-option value="male">
                            Male
                        </mat-option>
                        <mat-option value="female">
                            Female
                        </mat-option>
                    </mat-select>
                </mat-form-field>
            </mat-grid-tile>
            <mat-grid-tile>
                <mat-form-field appearance="outline" class='form-field'>
                    <mat-label>Date Of Birth</mat-label>
                    <input matInput type="text" name="dateBirth" [matDatepicker]="dateBirthPicker" ngModel #dateBirth="ngModel" required>
                    <mat-datepicker-toggle matSuffix [for]="dateBirthPicker"></mat-datepicker-toggle>
                    <mat-datepicker #dateBirthPicker [startAt]="dataJson?.dates['date-0']"></mat-datepicker>
                </mat-form-field>
            </mat-grid-tile>
            <mat-grid-tile>
                <mat-form-field appearance="outline" class='form-field'>
                    <mat-label> Email Address</mat-label>
                    <input matInput placeholder="Email" name="emailAddress" ngModel #emailAddress [formControl]="emailFormControl" [errorStateMatcher]="matcher">
                    <mat-error *ngIf="emailFormControl.hasError('email') && !emailFormControl.hasError('required')">
                        Please enter a valid email address
                    </mat-error>
                    <mat-error *ngIf="emailFormControl.hasError('required')">
                        Email is <strong>required</strong>
                    </mat-error>
                </mat-form-field>
            </mat-grid-tile>

            <mat-grid-tile>
                <mat-form-field appearance="outline" class='form-field'>
                    <mat-label> Phone Number</mat-label>
                    <input matInput type="tel" name="phoneNumber" ngModel #phoneNumber="ngModel" required>
                </mat-form-field>
            </mat-grid-tile>



            <mat-grid-tile>
                <mat-form-field appearance="outline" class='form-field'>
                    <mat-label> National ID Number</mat-label>
                    <input matInput type="number" name="id" ngModel #id="ngModel" required>
                </mat-form-field>
            </mat-grid-tile>

            <mat-grid-tile>
                <mat-form-field appearance="outline" class='form-field'>
                    <mat-label> Passport Number</mat-label>
                    <input matInput type="number" name="Passport" ngModel #Passport="ngModel" required>
                </mat-form-field>
            </mat-grid-tile>
        </mat-grid-list>
        <!-- <mat-grid-list cols="1" rowHeight="88px" gutterSize="10px">
            <mat-grid-tile>
                    <mat-form-field appearance="outline" class='form-field'>
                        <mat-label> Enter Your Address</mat-label>
                        <input matInput type="text" name="address" ngModel #address="ngModel" required>
                    </mat-form-field>
            </mat-grid-tile>

        </mat-grid-list> -->

        <div ngModelGroup="additionalTravelers" #additionalTravelers="ngModelGroup" *ngIf="numOfTravelers.length > 1">

            <section class="additional-travelers">
                <h2 class="title">Additional Traveler Information</h2>

                <ng-container *ngFor="let traveler of numOfTravelers | slice:1; let i = index">
                    <h2 class="title">Traveller {{i+1}}</h2>
                    <div fxLayout="row" fxLayout.lt-sm="column" fxLayoutGap="1%">
                        <div fxFlex="33.33333%">
                            <mat-form-field appearance="outline" class='form-field'>
                                <mat-label> First Name</mat-label>
                                <input matInput type="text" name="tfirstName{{traveler}}" ngModel #tfirstName="ngModel" required>
                            </mat-form-field>



                        </div>

                        <div fxFlex="33.33333%">
                            <mat-form-field appearance="outline" class='form-field'>
                                <mat-label> Last Name</mat-label>
                                <input matInput type="text" name="tlastName{{traveler}}" ngModel #tlastName="ngModel" required>
                            </mat-form-field>


                        </div>

                        <div fxFlex="33.33333%">
                            <div class="form-group" *ngIf="typesList['type-'+traveler] == 'kid'">
                                <mat-form-field appearance="outline" class='form-field'>
                                    <mat-label> Date Of Birth</mat-label>
                                    <input matInput type="text" [min]="minDateKid" [max]="maxDateKid" [matDatepicker]="birthDatePicker" name="tbirthDate{{traveler}}" [(ngModel)]="datesList['date-'+traveler]" #tbirthDate="ngModel">
                                    <mat-datepicker-toggle matSuffix [for]="birthDatePicker" onkeydown="return false"></mat-datepicker-toggle>
                                    <mat-datepicker [startAt]="datesList['date-'+traveler]" #birthDatePicker onkeydown="return false"></mat-datepicker>
                                </mat-form-field>
                            </div>
                            <!-- end form-group -->

                            <div class="form-group" *ngIf="typesList['type-'+traveler] == 'spouse'">
                                <mat-form-field appearance="outline" class='form-field'>
                                    <mat-label> Date Of Birth</mat-label>
                                    <input matInput type="text" [matDatepicker]="birthDatePicker" [max]="maxDateKid" name="tbirthDate{{traveler}}" [(ngModel)]="datesList['date-'+traveler]" #tbirthDate="ngModel">
                                    <mat-datepicker-toggle matSuffix [for]="birthDatePicker" onkeydown="return false"></mat-datepicker-toggle>
                                    <mat-datepicker [startAt]="datesList['date-'+traveler]" #birthDatePicker onkeydown="return false"></mat-datepicker>
                                </mat-form-field>
                            </div>
                            <!-- end form-group -->
                        </div>
                    </div>
                    <div fxLayout="row" fxLayout.lt-sm="column" fxLayoutGap="1%">


                        <div fxFlex="33.33333%">
                            <mat-form-field appearance="outline">
                                <mat-label>Type</mat-label>
                                <mat-select name="type{{traveler}}" class="selectOptionType" [(ngModel)]="typesList['type-'+traveler]" #type="ngModel">
                                    <mat-option *ngFor="let type of types" [value]="type.value">
                                        {{type.viewValue}}
                                    </mat-option>
                                </mat-select>
                            </mat-form-field>
                        </div>

                        <div fxFlex="33.33333%">
                            <mat-form-field appearance="outline" class='form-field'>
                                <mat-label> National ID Number</mat-label>
                                <input matInput type="number" name="tid{{traveler}}" ngModel #tid="ngModel" required>
                            </mat-form-field>
                        </div>

                        <div fxFlex="33.3333%">
                            <mat-form-field appearance="outline" class='form-field'>
                                <mat-label> Passport Number</mat-label>
                                <input matInput type="number" name="tpassport{{traveler}}" ngModel #tpassport="ngModel" required>
                            </mat-form-field>
                        </div>
                    </div>
                </ng-container>




            </section>

        </div>

        <mat-checkbox ngModel #checkbox name="terms" [checked]="isConfrim" (change)="isConfrim = !isConfrim" color="primary">I have read and accepted <a href="http://207.154.195.214/TravelWording.pdf" target="_blank">Terms& Conditions.</a></mat-checkbox>
        <br> <br>
        <button type="submit" mat-button class='button-quote' [disabled]="fInfo.invalid || isConfrim !== true">{{ 'complete purchase' | uppercase }} <mat-icon>arrow_right_alt</mat-icon></button>
    </form>
</mat-card>