<section class="get_qoute">
    <form #f="ngForm" (ngSubmit)="submitForm(f)">

        <input type="hidden" name="types" [ngModel]="familyDataString" #types="ngModel">
        <mat-card fxFlex="700px" fxFlex.xs="100%" class='overlay'>
            <mat-card-title fxLayoutAlign="flex-start">Get a Travel Insurance Quote</mat-card-title>
            <mat-card-content>

                <mat-radio-group aria-label="Select an option" color="primary" name="type" [(ngModel)]="formFields.typeTraveler" #typeInput="ngModel" (change)="showField($event)" required>
                    <mat-radio-button value="individual">Individual</mat-radio-button>
                    <mat-radio-button value="family">Family</mat-radio-button>
                    <mat-radio-button value="group">Group</mat-radio-button>
                </mat-radio-group>


                <br><br>
                <mat-grid-list [cols]="breakpoint" rowHeight="75px" (window:resize)="onResize($event)" gutterSize="10px">


                    <mat-grid-tile>
                        <mat-form-field appearance="outline" class='form-field'>
                            <mat-label>{{ 'Zone' | uppercase }}</mat-label>
                            <mat-select name="zone" [(ngModel)]="formFields.zone" #zoneInput="ngModel" required>
                                <mat-option *ngFor="let country of countries" [value]="country.value">
                                    {{country.viewValue}}
                                </mat-option>
                            </mat-select>
                        </mat-form-field>
                    </mat-grid-tile>
                    <mat-grid-tile *ngIf="isFamly">
                        <mat-form-field appearance="outline" class='form-field'>
                            <mat-label> {{ 'Date Of Birth' | uppercase }}</mat-label>
                            <input type="text" matInput (click)="this.showPopup()" [(ngModel)]="formFields.dates" name="familyAges" #familyAges="ngModel" required>

                        </mat-form-field>
                    </mat-grid-tile>


                    <mat-grid-tile *ngIf="isIndividual">
                        <mat-form-field appearance="outline" class='form-field'>
                            <mat-label> {{ 'Date Of Birth' | uppercase }}</mat-label>
                            <input type="text" matInput [matDatepicker]="agePicker" (focus)="agePicker.open()" [(ngModel)]="formFields.date" #inputAge placeholder="Date Of Birth" [max]="minDate" name="indAge" #indAge="ngModel" required>
                            <mat-datepicker-toggle matSuffix [for]="agePicker"></mat-datepicker-toggle>
                            <mat-datepicker (closed)="inputAge.blur()" startView="multi-year" #agePicker [startAt]="formFields.date" #agePicker></mat-datepicker>
                        </mat-form-field>
                    </mat-grid-tile>

                    <mat-grid-tile *ngIf="isGroup">
                        <mat-form-field appearance="outline" class='form-field'>
                            <mat-label> {{ 'number of travelers' | uppercase }}</mat-label>
                            <input type="text" matInput (click)="this.showGrpupPopup()" [ngModel]="groupAge" name="groupAges" #groupAges="ngModel" required>

                            <!-- <input type="number" matInput placeholder="number of group" ngModel name="numOfGroup" #numOfGroup="ngModel" required> -->

                        </mat-form-field>
                    </mat-grid-tile>



                    <mat-grid-tile>

                        <mat-form-field appearance="outline" class='form-field'>
                            <mat-label> {{ 'When' | uppercase }}</mat-label>
                            <!-- <input matInput > -->


                            <input type="text" matInput [matDatepicker]="picker" name="dateWhen" #inputWhen [ngModel]="formFields.when" #dateWhen="ngModel" required [min]="maxDate" (focus)="picker.open()" placeholder="From">
                            <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                            <mat-datepicker [startAt]="formFields.when" #picker (closed)="inputWhen.blur()" #picker>
                            </mat-datepicker>


                        </mat-form-field>
                    </mat-grid-tile>

                    <mat-grid-tile>
                        <mat-form-field appearance="outline" class='form-field'>
                            <mat-label> {{ 'Till' | uppercase }}</mat-label>
                            <!-- <input matInput > -->

                            <input type="text" matInput [matDatepicker]="picker1" name="dateTill" #inputTill [(ngModel)]="formFields.till" #dateTill="ngModel" required [min]="dateWhen.value" (focus)="picker1.open()" placeholder="To">
                            <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
                            <mat-datepicker (closed)="inputTill.blur()" #picker1 [startAt]="formFields.till" #picker1></mat-datepicker>


                        </mat-form-field>
                    </mat-grid-tile>

                    <div class="clearfix"></div>


                </mat-grid-list>

                <mat-checkbox color="primary" ngModel #checkbox name="egyptian" [checked]="isEgyption" (change)="isEgyption = !isEgyption">I confirm that i am a resident in Egypt</mat-checkbox>
                <br><br>
                <button *ngIf="!isLoading" class='button-quote' mat-button color="primary" type="submit" [disabled]="f.invalid || isEgyption !== true">{{ 'Get A Quote' | uppercase }}</button>
                <div *ngIf="isLoading" fxLayoutAlign="center center">
                    <mat-spinner [diameter]="40"></mat-spinner>
                </div>
            </mat-card-content>
        </mat-card>
    </form>
</section>